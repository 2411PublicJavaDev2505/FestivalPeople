
<img src="./docimg/main_logo.png">

# Festival People(축제, 코스 추천 사이트)

## 팀 소개

<img src="./docimg/팀명.png">
Rechec

## 팀원 소개

<img src="./docimg/팀원소개.png">

## 기획의도

<img src="./docimg/기획의도.png">

## 차별성

<img src="./docimg/차별성.png">

## 개발일정

<img src="./docimg/개발일정.png">

## 프로젝트 개발환경

- DB는 오라클 11g XE 버전을 이용하였습니다.
- 프론트엔드 & 백엔드 개발은 Intellij IDEA Ultimate 버전을 이용하여 개발하였습니다.

## 프로젝트 실행 방법

1. 오라클 11g를 설치한 후에 application.yml 에 있는

```
spring.datasource.username
```
```
spring.datasource.password
```

를 참고해서 계정을 만듭니다. 
이때
```
spring.datasource.url
```
을 확인해서 spring.datasource.url 을 변경한 후에 거기에 계정을 만드는 걸로 합니다.
2. 그 계정에 RESOURCE, CONNECT 권한을 부여합니다. 
3. [CREATE SQL](./GNTOUR_CREATE.sql) 를 참고해서 테이블을 구성합니다.
4. [INSERT SQL](./INSERT_TRAVEL_INFO.sql) 를 참고해서 데이터를 구성합니다.
5. 환경변수를 다음과 같이 설정합니다.
```
GANGNEUNG_UPLOAD_FOLDER_PATH: [업로드할 폴더 경로] +"/"
EMAIL_APP_ID: [GMAIL 계정]
EMAIL_APP_PW: [GMAIL APP PASSWORD]
```
6. 그런다음 Intellij 에서 실행을 합니다.

## 기술 스택

![HTML](https://img.shields.io/badge/html5-E34F26?style=for-the-badge&logo=html5&logoColor=white)
![CSS](https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white)
![JavaScript](https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black)
<br>
![Tomcat](https://img.shields.io/badge/apache%20tomcat-F8DC75?style=for-the-badge&logo=apache%20tomcat&logoColor=black)
![GitHub](https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white)
![IntelliJ IDEA](https://img.shields.io/badge/intellij%20idea-000000?style=for-the-badge&logo=intellij%20idea&logoColor=white)
![Thymeleaf](https://img.shields.io/badge/thymeleaf-005F0F?style=for-the-badge&logo=thymeleaf&logoColor=white)
<br>
![Spring Boot](https://img.shields.io/badge/spring%20boot-6DB33F?style=for-the-badge&logo=spring%20boot&logoColor=white)
![Oracle](https://img.shields.io/badge/oracle-F80000?style=for-the-badge&logo=oracle&logoColor=white)
![Java](https://img.shields.io/badge/java-007396?style=for-the-badge&logo=java&logoColor=white)
![Canvas](https://img.shields.io/badge/canvas-E72429?style=for-the-badge&logo=canvas&logoColor=white)


## 주요기능
### 축제 리스트 출력(추천)

|기능명|상세|
|--|--|
|메인페이지 축제 추천| 메인 화면에 국내 기준 맑은 지역에서 진행되고 있는 축제 10개를 무작위추출하여 출력됩니다.|
|축제리스트 조회(비회원)| 비회원의 경우 현재 진행중인 국내 축제를 확인할수 있습니다.|
|추천 축제 리스트 조회(회원)| 회원의 경우 상단 부분에 "우리지역 축제" 버튼으로 추천되는 축제를 확인할수 있습니다. 추천 되는 축제는 회원정보에 등록되어있는 주소지 기반으로 가까운 지역의 일기예보가 맑은 지역의 축제를 확인할수 있습니다. 추천되는 축제의 경우 회원의 주소지에 맞춤으로 추천되어 주소지가 다를 경우 다른 축제가 추천 될수 있습니다. "진행중인 축제" 를 선택할 경우 현재 진행중인 축제를 확인할수 있습니다. 
|축제 리스트 조회(회원)| 추천되는 리스트 밑의  "전국축제리스트" 버튼을 선택할시 전국 진행중인 국내 축제를 확인 할수 있습니다.
|축제 정보 검색|현재 진행중인 축제를 축제명, 지역, 전체 로 설정하여 검색 하여 해당하는 축제를 확인할수 있습니다. |


### 축제 디테일 출력

|기능명|상세|
|--|--|
|축제 상세 정보 조회| 메인페이지에서 자세히 보기 또는, 축제 페이지에서 축제 사진 선택시 상세 정보를 확인할 수 있습니다. 상세 페이지에서는 축제 이름, 축제 일정, 개최 장소 및 대표 전화번호를 확인할수 있습니다.  |
|축제지역 일기예보| 현재 진행중인 축제 개최 장소 기반의 당일+2일간의 실시간 일기예보를 출력합니다. 개최 지역에 따라 일기예보는 다르게 출력됩니다.|
|지도| 현재 진행중인 축제 개최 장소의 지도를 확인할수 있습니다. 길찾기 버튼 선택시 kakao지도로 연결되며, 회원인 경우 추천 코스 선택시 해당 추천되는 코스페이지로 이동할수 있습니다|

### 코스 추천 페이지

|기능명|상세|
|--|--|
|지도 기능|사용자는 지도에서 마커를 확인할 수 있습니다. 사용자는 지도에 적절한 조작을 가해 지도의 뷰를 변경할 수 있습니다. 지도는 권역별(주문진권, 시내권, 경포권, 대관령권, 정동진옥계권) 으로 나뉘어서 보여집니다. 그리고 마커도 카테고리에 맞는 이미지로 보입니다.|
|여행지 개요 조회|사용자는 지도에서 마커를 클릭하면 여행지 개요(간단한 정보, 별점) 을 확인할 수 있습니다. 여기에서 간단한 정보는 [여행지 이름, 여행지 소개] 등으로 한정합니다.|
|마커 추가 요청|사용자는 마커 생성 요청을 할 수 있습니다. 마커 생성을 요청할 때 여행지 세부 정보에 들어갈 만한 내용들 입력 받도록 합니다. 관리자는 생성 요청을 받은 데이터를 확인해 이 데이터를 추가할지 아니면 거절할 지 선택할 수 있습니다. 블랙리스트 같은 경우 마커 추가 요청을 할 수 없습니다.|
|여행지 필터 기능|여행지에 대한 필터 기능을 제공합니다. 지도 페이지에서 카테고리(산·트래킹, 바다·해안, 호수·공원, 전시, 역사·유적, 레저·체험) 필터를 선택하면 선택한 필터를 제외한 나머지 마커들은 지도에서 보이지 않게 합니다.|

### 코스 추천 디테일 페이지

|기능명|상세|
|--|--|
|여행지 목록 조회|사용자가 여행지를 목록으로 조회할 수 있는 기능으로, 현재 등록되어 있는 강릉시의 전체 관광지를 썸네일로 살펴 볼 수 있습니다.|
|여행지 검색 기능|리스트의 오른쪽 상단에 있는 검색창을 통해 사용자는 여행지 이름을 입력하는 방식으로 원하는 여행지를 찾을 수 있습니다.|
|여행지 필터 기능|검색창의 우측에는 필터 아이콘이 있고 클릭 시 강릉시의 세부지도와 카테고리를 선택할 수 있는 팝업창이 뜹니다. 사용자는 권역별(주문진권, 시내권, 경포권, 대관령권, 정동진 옥계권) 또는 카테고리(산·트래킹, 바다·해안, 호수·공원, 전시, 역사·유적, 레저·체험)를 선택(복수 선택 가능)하여 원하는 정보를 찾을 수 있습니다.|
|여행지 즐겨찾기 기능|썸네일 오른쪽 상단에 있는 별표 이모티콘을 통해 즐겨찾기로 설정하거나 해제할 수 있습니다. 여행지 세부 정보 조회 페이지에서도 즐겨찾기를 설정하거나 해제할 수 있습니다.|

### 커뮤니티(채팅)
|기능명|상세|
|--|--|
|채팅방 전체 리스트 출력|커뮤니티의 역할을 하는 채팅방의 목록을 확인할 수 있는 기능으로 왼쪽에는 사용자가 속한 방을, 오른쪽은 사이트 내의 모든 채팅방의 목록을 확인할 수 있습니다.|
|채팅방 생성 기능|왼쪽 채팅방 생성 버튼을 누르고 채팅방의 제목, 태그, 대표사진, 정원수를 입력하여 새로운 방을 만들 수 있습니다.|
|채팅방 삭제|오른쪽 메뉴 버튼을 누르면 슬라이드 창이 뜹니다. 채팅방을 생성한 방장은 오른쪽 메뉴 버튼을 이용하여 채팅방을 삭제할 수 있습니다. 또한 관리자는 신고 리스트에서 신고당한 채팅방을 삭제할 수 있습니다.|
|채팅방 강퇴|방장의 메뉴창에는 회원 닉네임 옆에 내보내기 버튼이 있습니다. 이 버튼을 통해 방장은 가입된 회원을 강제 퇴실시킬 수 있습니다.|
|채팅방 검색|리스트 오른쪽 상단에 있는 검색창을 통해 사용자는 제목 및 태그의 키워드를 통한 채팅방을 검색할 수 있습니다.|
|채팅방 입장|사용자는 왼쪽 또는 오른쪽 채팅방 목록의 제목을 누르면 방에 입장할 수 있습니다. 처음 입장하는 채팅방일 경우 가입 여부를 묻는 팝업창이 뜨고 확인을 누르면 자동가입 되며 왼쪽의 내가 속한 리스트 목록에 방이 추가됩니다.|
|채팅방 나가기|방장이 아닌 회원은 메뉴에서 채팅방 나가기를 통해 탈퇴할 수 있고, 탈퇴한 채팅방은 내가 속한 리스트 목록에서 삭제됩니다.|
|채팅메시지 작성|채팅방에 입장하면 하단의 입력창에 대화를 입력하거나 파일을 첨부하여 메시지를 보낼 수 있습니다.|
|채팅메시지 내용 검색|입장한 채팅방 내에서 상단 검색창에 키워드를 입력하여 대화 내용을 조회할 수 있습니다. 해당 글자는 노란색 하이라이트로 강조되어 표시되며 상단으로 이동하면서 확인할 수 있습니다.|
|채팅방 알림|좌측 내가 속한 리스트에서는 현재 입장하지 않은 방의 안읽은 메시지 숫자를 확인할 수 있습니다.|


### 여행후기 페이지(박재일)

|기능명|상세|
|--|--|
|공지사항 등록/수정|공지사항의 작성 및 수정의 권한은 모든 사용자가 아닌 관리자에 의해서만 가능하며, 공지사항 작성 시 주요 공지사항일 경우 기간을 정하여 1~3개까지 상단에 고정 노출되도록 선택할 수 있는 기능이 있습니다. |
|공지사항 리스트 조회 및 검색 기능|유저(회원+비회원)는 공지사항을 확인할 수 있으며, 공지사항의 개수가 많거나 찾고자 하는 내용이 있을 경우 검색창을 통해서 ‘제목’, ‘내용’ 항목을 선택하여 공지사항을 검색할 수 있습니다.|

### 여행 후기 디테일 페이지

|기능명|상세|
|--|--|
|QnA 조회|사용자는 여태까지 자신이 작성한 QnA 에 대해서 페이징 형식으로 확인할 수 있습니다. 등록일, 제목, 답변 상태, 답변 등록일을 확인할 수 있습니다. 관리자는 사용자가 등록한 QnA 들을 확인할 수 있습니다.|
|QnA 작성/삭제|질문에 대한 작성 및 삭제 권한은 회원으로 한하며, 로그인이 되어있지 않을 경우 로그인을 해달라는 경고창을 띄워  로그인을 유도하도록 합니다. 질문 작성 시 첨부파일을 추가하여 질문을 할 수 있으며, 질문 삭제는 자신의 글만 삭제할 수 있도록 제한합니다. |
|QnA 답변|사용자에게 받은 질문에 대한 답변은 관리자만 할 수 있습니다. 사용자는 질문에 대한 답변을 마이페이지의 링크를 통해서 확인할 수 있습니다.|
|QnA 답변 삭제|사용자, 관리자는 자신이 단 QnA 답변에 대해서 삭제할 수 있습니다.|

### 공지사항

|기능명|상세|
|--|--|
|공지사항 상세조회|모든 사용자는 게시글 클릭 시 공지사항의 제목과 내용을 조회할 수 있습니다.|
|공지사항 작성|관리자는 제목, 내용 및 파일첨부를 이용하여 공지사항을 작성할 수 있습니다.|
|공지사항 수정|관리자는 공지사항을 수정할 수 있습니다. |
|공지사항 삭제|관리자는 공지사항을 삭제할 수 있습니다.|

### 신고 기능

|기능명|상세|
|--|--|
|채팅방 신고|신고사유를 작성해 채팅방을 신고할 수 있으며 관리자측에서 확인 후 삭제처리가 가능합니다.|
|후기게시글 신고|신고사유를 작성해 후기게시글을 신고할 수 있으며 관리자측에서 확인 후 삭제처리가 가능합니다. |
|후기 댓글 신고|신고사유를 작성해 후기댓글을 신고할 수 있으며 관리자측에서 확인 후 삭제처리가 가능합니다.|


### 마이페이지

|기능명|상세|
|--|--|
|QnA 조회|사용자는 여태까지 자신이 작성한 QnA 에 대해서 페이징 형식으로 확인할 수 있습니다. 등록일, 제목, 답변 상태, 답변 등록일을 확인할 수 있습니다. 관리자는 사용자가 등록한 QnA 들을 확인할 수 있습니다.|
|QnA 작성/삭제|질문에 대한 작성 및 삭제 권한은 회원으로 한하며, 로그인이 되어있지 않을 경우 로그인을 해달라는 경고창을 띄워  로그인을 유도하도록 합니다. 질문 작성 시 첨부파일을 추가하여 질문을 할 수 있으며, 질문 삭제는 자신의 글만 삭제할 수 있도록 제한합니다. |
|QnA 답변|사용자에게 받은 질문에 대한 답변은 관리자만 할 수 있습니다. 사용자는 질문에 대한 답변을 마이페이지의 링크를 통해서 확인할 수 있습니다.|
|QnA 답변 삭제|사용자, 관리자는 자신이 단 QnA 답변에 대해서 삭제할 수 있습니다.|

### 관리자 페이지

|기능명|상세|
|--|--|
|회원 목록 조회|관리자는 관리자 페이지 내에서 모든 회원의 아이디, 이름, 닉네임, 이메일 주소, 신고누적횟수를 확인할 수 있습니다.|
|회원 검색|관리자는 회원의 아이디, 이름, 닉네임을 검색해서 조회할 수 있습니다.|
|회원 탈퇴|신고가 누적되거나 부적절한 활동 이력이 있는 회원은 임의로 강제 탈퇴 시킬수 있습니다.|
|신고 조회|현재 접수된 신고의 리스트를 조회 할 수 있습니다.|
|신고 상세 조회|신고를 클릭 시 상세 내용이 보이며, 신고사유와 피신고자, 신고내용 정보가 조회됩니다.|
|신고 삭제|채팅, 후기 게시글, 후기 댓글 등 신고 받은 게시물을 확인하고 삭제할 수 있습니다.|
|신고 반려|관리자가 문제 없다고 판단한 내용은 반려처리로 현상태 유지시킬 수 있습니다.|

## 화면 구현

### 1. 메인

![](./docimg/화면_메인.png)

### 2. 소개 페이지

![](./docimg/화면_마커추가요청.png)

### 3. 로그인

![](./docimg/화면_로그인.png)

### 4. 회원 가입

![](./docimg/화면_회원가입.png)
![](./docimg/화면_이메일인증.PNG)

### 5. 아이디 찾기

![](./docimg/화면_아이디찾기.png)

### 6. 비밀번호 찾기

![](./docimg/화면_비밀번호찾기.png)
![](./docimg/화면_임시비밀번호이메일.PNG)

### 7. 축제 리스트

![](./docimg/화면_여행지리스트.png)
![](./docimg/화면_여행지필터.png)

### 8. 축제 디테일 

![](./docimg/화면_여행지상세정보-정보.png)

### 9. 코스 리스트

![](./docimg/화면_여행지상세정보-리뷰.png)

### 10. 코스 디테일

![](./docimg/화면_리뷰팝업창.png)

### 11. 같이갈래?

![](./docimg/화면_여행지리뷰신고.png)

### 12. 같이갈래 디테일

![](./docimg/즐겨찾기%20리스트%20최신순.png)

### 13. 여행 후기

![](./docimg/나의%20리뷰.png)

### 14. 여행 후기 디테일

![](./docimg/나의%20여행일기%20리스트%20데아터%20있을때.png)

### 15. 공지사항

![](./docimg/나의%20여행일기%20상세조회.png)

### 16. 공지사항 디테일

![](./docimg/나의%20여행일기%20등록.png)
![](./docimg/나의%20여행일기%20수정.png)
### 17. 공지사항 리스트 조회
![](./docimg/화면_사용자공지사항리스트.png)


### 18. 마이페이지

### 19. 관리자 페이지


### 20. QnA 작성
![](./docimg/화면_사용자문의작성.png)


![](./docimg/화면_관리자로그인.png)
![](./docimg/화면_관리자블랙리스트.png)
![](./docimg/화면_관리자회원상태변경.png)
![](./docimg/화면_관리자신고리스트.png)
![](./docimg/화면_관리자마커승인요청리스트.png)
![](./docimg/화면_관리자마커승인요청상세.png)
![](./docimg/화면_관리자공지사항리스트.png)
![](./docimg/화면_관리자공지사항작성.png)
![](./docimg/화면_관리자QnA답변리스트.png)
![](./docimg/화면_관리자QnA답변등록페이지.png)
![](./docimg/화면_관리자여행지리스트.png)
![](./docimg/화면_관리자여행상세.png)

## 프로젝트 아키텍처
### 사용자 흐름도
![](./docimg/강릉여지도사용자흐름도.png)
### 서버 흐름도
![](./docimg/강릉여지도서버흐름도.png)

화살표 방향은 의존 관계를 의미합니다. 컨트롤러는 서비스에 의존하지만 서비스는 컨트롤러에 의존하지 않습니다. 서비스는 Mapper 에 의존하지만 Mapper 는 서비스에 의존하지 않습니다. 컨트롤러, 서비스, Mapper 는 모두 ExceptionHandler 에 의존하며 ExceptionHandler 는 컨트롤러, 서비스, Mapper 에서 발생하는 Exception 들을 처리합니다.

## 프로젝트 산출 문서

- [기획보고서](https://drive.google.com/file/d/1xKrU_t2bgH5kuLAPBtYMu1aJZBpiE3gd/view?usp=drive_link)
- [요구사항기술서](https://docs.google.com/document/d/1LqVcKy8FHG2ugpnxaTy_QwyCWoX31h1mcSsShtPUOB4/edit?usp=drive_link)
- [유스케이스](https://drive.google.com/file/d/1WB3xDanCUE0NQFH3LHTC2ihIcdZfGzNw/view?usp=drive_link)
- [플로우차트](https://drive.google.com/file/d/1hYaTB7DO7Z1tuPH41Wwg9M8V-NbyJLdf/view?usp=drive_link)
- [와이어프레임](https://drive.google.com/file/d/1P0DsMKzsjJVSnkOympN18StspgC6Ms2x/view?usp=drive_link)
- [DB설계](https://drive.google.com/file/d/1UZWH7P_JEf8C3pm4v6jnvyxpJ8qOUPNi/view?usp=drive_link)
- [테이블정의서](https://docs.google.com/spreadsheets/d/1elBWKfCcjNKvqUCYvIl5JVw6l8x-WuQF/edit?usp=drive_link&ouid=116644278771318603851&rtpof=true&sd=true)
- [클래스다이어그램](https://drive.google.com/file/d/1bQzmqw-LqOEKO0bWhPJpuFwQkBkj5k0R/view?usp=drive_link)
- [시퀀스다이어그램](https://drive.google.com/file/d/1zjxBG0hJ0Key97xxHZz29U9rmtLG6t6n/view?usp=drive_link)
- [최종보고서](https://drive.google.com/file/d/1yWmMtOqoFn7DF0qPl9h6ayW_AUK1gQFf/view?usp=drive_link)
- [프로젝트 소스 DB](https://drive.google.com/file/d/1QAztOddYWz0mndtvfkSmkG8T9M61E56T/view?usp=drive_link)
- [시연영상](https://drive.google.com/file/d/1JID-QHkuA2Ul_8XNnFRgQY_ERgKv5f03/view?usp=drive_link)
